# План автоматизации Дипломного проекта:  
# _"Тестирование комплексного сервиса, взаимодействующего с СУБД и API Банка"_

------------------------
## Перечень автоматизируемых сценариев:

------------------------
#### **Позитивные сценарии:**
Сценарий 1. Покупка по дебетовой карте (Статус "Approved"):
1. Ввод номера 4444 4444 4444 4441 в поле "Номер карты"
2. Остальные поля заполнить валидными значениями
3. Клик по кнопке *"Продолжить"*

Ожидаемый результат:
1. Появляется всплывающее окно "Операция одобрена Банком"
2. В БД в `payment_entity` появляется запись со статусом APPROVED

Сценарий 2. Покупка по кредитной карте (Статус "Approved") :
1. Ввод номера 4444 4444 4444 4441 в поле "Номер карты"
2. Остальные поля заполнить валидными значениями
3. Клик по кнопке *"Продолжить"*

Ожидаемый результат:
1. Появляется всплывающее окно "Операция одобрена Банком"
2. В БД в `credit_request_entity` появляется запись со статусом APPROVED

Сценарий 3. Покупка по дебетовой карте (Статус "Declined"):
1. Ввод номера 4444 4444 4444 4442 в поле "Номер карты"
2. Остальные поля заполнить валидными значениями
3. Клик по кнопке *"Продолжить"*

Ожидаемый результат:
1. Появляется всплывающее окно "Ошибка! Банк отказал в проведении операции"
2. В БД в `payment_entity` появляется запись со статусом DECLINED

Сценарий 4. Покупка по кредитной карте (Статус "Declined"):
1. Ввод номера 4444 4444 4444 4442 в поле "Номер карты"
2. Остальные поля заполнить валидными значениями
3. Клик по кнопке *"Продолжить"*

Ожидаемый результат:
1. Появляется всплывающее окно "Ошибка! Банк отказал в проведении операции"
2. В БД в `credit_request_entity` появляется запись со статусом DECLINED
------------------------
#### **Негативные сценарии:**

Сценарий 5. Невалидный номер дебетовой карты
1. Ввод номера 1111 1111 1111 1111 в поле "Номер карты"
2. Остальные поля заполнить корректными значениями
3. Клик по кнопке *"Продолжить"*

Ожидаемый результат:
1. Появляется всплывающее окно "Ошибка! Банк отказал в проведении операции"
2. В БД в `payment_entity` не появляется новая запись

Сценарий 6. Невалидный номер кредитной карты
1. Ввод номера 1111 1111 1111 1111 в поле "Номер карты"
2. Остальные поля заполнить корректными значениями
3. Клик по кнопке *"Продолжить"*

Ожидаемый результат:
1. Появляется всплывающее окно "Ошибка! Банк отказал в проведении операции"
2. в БД в `credit_request_entity` не появляется новая запись

Сценарий 7. Неполный ввод номера в поле "Номер карты" для покупки по дебетовой карте
1. Ввести номер 1111 1111 1111 111 в поле "Номер карты"
2. Остальные поля заполнить корректными значениями
3. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение "Неверный формат"
2. В БД в `payment_entity` не появляется новая запись

Сценарий 8. Неполный ввод номера в поле "Номер карты" для покупки по кредитной карте
1. Ввести номер 1111 1111 1111 111 в поле "Номер карты"
2. Остальные поля заполнить корректными значениями
3. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение "Неверный формат"
2. В БД `credit_request_entity` не появляется новая запись

Сценарий 9. Покупка по дебетовой карте с указанием невалидного месяца
1. Ввод номера 4444 4444 4444 4441 в поле "Номер карты"
2. Ввод в поле "Месяц" 13
3. Остальные поля заполнить корректными значениями
4. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение "Неверно указан срок действия карты"
2. В БД в `payment_entity` не появляется новая запись

Сценарий 10. Покупка по кредитной карте с указанием невалидного месяца
1. Ввод номера 4444 4444 4444 4441 в поле "Номер карты"
2. Ввод в поле "Месяц" 13
3. Остальные поля заполнены корректными значениями
4. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение "Неверно указан срок действия карты"
2. В БД `credit_request_entity` не появляется новая запись

Сценарий 11. Покупка по дебетовой карте с указанием истекшего месяца
1. Ввод номера 4444 4444 4444 4441 в поле "Номер карты"
2. Ввод в поле "Месяц" значение предыдущего месяца
3. Ввод в поле "Год" значение текущего года 
4. Остальные поля заполнить корректными значениями
5. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение "Неверно указан срок действия карты"
2. В БД в `payment_entity` не появляется новая запись

Сценарий 12. Покупка по кредитной карте с указанием истекшего месяца
1. Ввод номера 4444 4444 4444 4441 в поле "Номер карты"
2. Ввод в поле "Месяц" значение предыдущего месяца
3. Ввод в поле "Год" значение текущего года
4. Остальные поля заполнить корректными значениями
5. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение "Неверно указан срок действия карты"
2. В БД в `credit_request_entity` не появляется новая запись

Сценарий 13. Покупка по дебетовой карте с указанием истекшего года
1. Ввод номера 4444 4444 4444 4441 в поле "Номер карты"
2. Ввод в поле "Год" значение предыдущего года
3. Остальные поля заполнить корректными значениями
4. Клик по кнопке *Продолжить*

Ожидаемый результат:

1. Появляется сообщение "Истек срок действия карты"
2. В БД в `payment_entity` не появляется новая запись

Сценарий 14. Покупка по кредитной карте с указанием истекшего года
1. Ввод номера 4444 4444 4444 4441 в поле "Номер карты"
2. Ввод в поле "Год" значение предыдущего года
3. Остальные поля заполнить корректными значениями
4. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение "Истек срок действия карты"
2. В БД в `credit_request_entity` не появляется новая запись

Сценарий 15. Покупка по дебетовой карте с указанием невалидных значений в поле "Владелец"
1. Ввод номера 4444 4444 4444 4441 в поле "Номер карты"
2. Ввод в поле "Владелец" невалидных значений (кириллица, специальные знаки)
3. Остальные поля заполнить корректными значениями
4. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение об ошибке заполнения поля
2. В БД в `payment_entity` не появляется новая запись

Сценарий 16. Покупка по кредитной карте с указанием невалидных значений в поле "Владелец"
1. Ввод номера 4444 4444 4444 4441 в поле "Номер карты"
2. Ввод в поле "Владелец" невалидных значений (кириллица, специальные знаки)
3. Остальные поля заполнить корректными значениями
4. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение об ошибке заполнения поля
2. В БД `credit_request_entity` не появляется новая запись

Сценарий 17. Покупка по дебетовой карте с неполным вводом в поле CVC/CVV
1. Ввод номера 4444 4444 4444 4441 в поле Номер карты
2. Ввод в поле CVC/CVV 23
3. Остальные поля заполнить корректными значениями
4. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение "Неверный формат"
2. В БД в `payment_entity` не появляется новая запись

Сценарий 18. Покупка по кредитной карте с неполным вводом в поле CVC/CVV
1. Ввод номера 4444 4444 4444 4441 в поле Номер карты
2. Ввод в поле CVC/CVV 23
3. Остальные поля заполнить корректными значениями
4. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Появляется сообщение "Неверный формат"
2. В БД `credit_request_entity` не появляется новая запись

Сценарий 19. Пустая форма заявки для покупки по дебетовой карте
1. Оставить все поля формы без заполнения
2. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", "Владелец" появляется сообщение об ошибке "Поле обязательно для заполнения"
2. В БД в `payment_entity` не появляется новая запись

Сценарий 20. Пустая форма заявки для покупки по кредитной карте
1. Оставить все поля формы без заполнения 
2. Клик по кнопке *"Продолжить"*

Ожидаемый результат:

1. Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", "Владелец" появляется сообщение об ошибке "Поле обязательно для заполнения"
2. В БД `credit_request_entity` не появляется новая запись

Сценарий 21. Покупка по дебетовой карте при пустом поле "Номер карты"
1. Оставить поле "Номер карты" пустым
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем "Номер карты" появляется сообщения об ошибке "Поле обязательно для заполнения"

Сценарий 22. Покупка по кредитной карте при пустом поле "Номер карты"
1. Оставить поле "Номер карты" пустым
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем "Номер карты" появляется сообщения об ошибке "Поле обязательно для заполнения"

Сценарий 23. Покупка по дебетовой карте при пустом поле "Месяц"
1. Оставить поле "Месяц" пустым
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем "Месяц" появляется сообщения об ошибке "Поле обязательно для заполнения"

Сценарий 24. Покупка по кредитной карте при пустом поле Месяц
1. Оставить поле "Месяц" пустым
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем "Месяц" появляется сообщения об ошибке "Поле обязательно для заполнения"

Сценарий 25. Покупка по дебетовой карте при пустом поле Год
* Оставить поле "Год" пустым
* Остальные поля заполнить валидными значениями

Ожидаемый результат:

* Под полем "Год" появляется сообщения об ошибке "Поле обязательно для заполнения"

Сценарий 26. Покупка по кредитной карте при пустом поле "Месяц"
1. Оставить поле "Год" пустым
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем "Год" появляется сообщения об ошибке "Поле обязательно для заполнения"

Сценарий 27. Покупка по дебетовой карте при пустом поле Владелец
1. Оставить поле "Владелец" пустым
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем "Владелец" появляется сообщения об ошибке "Поле обязательно для заполнения"

Сценарий 28. Покупка по кредитной карте при пустом поле "Владелец"
1. Оставить поле "Владелец" пустым
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем "Владелец" появляется сообщения об ошибке "Поле обязательно для заполнения"

Сценарий 29. Покупка по дебетовой карте при пустом поле CVC
1. Оставить поле CVC пустым
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем CVC появляется сообщения об ошибке "Поле обязательно для заполнения"

Сценарий 30. Покупка по кредитной карте при пустом поле CVC
1. Оставить поле CVC пустым
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем "CVC" появляется сообщения об ошибке "Поле обязательно для заполнения"

Сценарий 31. Покупка по дебетовой карте при вводе 0 поле CVC
1. Ввести 000 в поле CVC
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем CVC появляется сообщения об ошибке "Неверный формат"

Сценарий 32. Покупка по кредитной карте при вводе 0 поле CVC
1. Ввести 000 в поле CVC
2. Остальные поля заполнить валидными значениями

Ожидаемый результат:

1. Под полем "CVC" появляется сообщения об ошибке "Неверный формат"

Сценарий 33. Покупка по дебетовой карте с вводом 0 в поле Номер карты
1. Ввод номера 0000 0000 0000 0000 в поле "Номер карты"
2. Остальные поля заполнить корректными значениями

Ожидаемый результат:

1. Под полем "Номер карты" появляется сообщения об ошибке "Неверный формат"

Сценарий 34. Покупка по кредитной карте с вводом 0 в поле "Номер карты"
1. Ввод номера 0000 0000 0000 0000 в поле "Номер карты"
2. Остальные поля заполнить корректными значениями

Ожидаемый результат:

1. Под полем "Номер карты" появляется сообщения об ошибке "Неверный формат"

Сценарий 35. Покупка по дебетовой карте с вводом 0 в поле "Месяц"
1. Ввод номера 00 в поле "Месяц"
2. Остальные поля заполнить корректными значениями


Ожидаемый результат:
1. Под полем "Месяц" появляется сообщение об ошибке "Неверно указан срок действия карты"

Сценарий 36. Покупка по кредитной карте с вводом 0 в поле "Месяц"
1. Ввод номера 00 в поле "Месяц"
2. Остальные поля заполнить корректными значениями


Ожидаемый результат:
1. Под полем "Месяц" появляется сообщение об ошибке "Неверно указан срок действия карты"

Сценарий 37. Покупка по дебетовой карте с вводом 0 в поле "Год"
1. Ввод номера 00 в поле "Год"
2. Остальные поля заполнить корректными значениями

Ожидаемый результат:
1. Под полем "Год" появляется сообщение об ошибке "Истёк срок действия карты"

Сценарий 38. Покупка по кредитной карте с вводом 0 в поле "Год"
1. Ввод номера 00 в поле "Год"
2. Остальные поля заполнить корректными значениями

Ожидаемый результат:
* Под полем "Год" появляется сообщение об ошибке "Истёк срок действия карты"

### Валидные значения для заполнения полей по дебетовой и кредитной карте:

* Карты, представленные для тестирования (файл data.json):
  4444 4444 4444 4441, status APPROVED
  4444 4444 4444 4442, status DECLINED

* Поле "Номер карты": 16 числовых символов, формат **** **** **** ****
* Поле "Месяц": 01-12. Если указан текущий год, то предыдущий месяц считать невалидным
* Поле "Год": порядковый номер года в формате ГГ (две последние цифры года). Предыдущий год и ранее считать невалидными
* Поле "Владелец": буквенные символы в латинской раскладке
* Поле CVC/CVV: 3 цифровых символа в формате ***


## Перечень используемых инструментов:

* Java - применяемый язык программирования;
* IntelliJ IDEA - программа для написания кода;
* Gradle - система автоматической сборки проектов в IntelliJ IDEA;
* JUnit 5 - среда тестирования на Java;
* Faker - инструмент для генерации пользовательских данных для формы записи;
* Selenium/Selenide - фреймворки для тестирования;
* Allure - фреймворк для создания отчетов о тестировании

## Перечень и описание возможных рисков при автоматизации:

* Возможные изменения в коде страницы, в селекторах;
* Изменения в форме заполнения - добавление элементов, исключение элементов;
* Недоступность сайта или отдельных страниц;
* Стоимость автоматизации выше прибыли от работы проекта;
* Недоступность БД

## Перечень необходимых специалистов для автоматизации:

* Инженер по автоматизированному тестированию

## Интервальная оценка с учётом рисков в часах:

#### Необходимое время на тестирование (с учетом оцененных рисков) = 96 часов; с учетом рисков = 106 часов

* Подготовка окружения, инфраструктуры, развертывание БД - 8 часов;
* Написание автотестов, тестирование и отладка автотестов - 80 часов;
* Формирование и анализ отчетов - 8 часов;

## План сдачи работ:

* Завершение тестирования приложения 06.05.2023
* Отправка отчетной документации 10.05.2023
